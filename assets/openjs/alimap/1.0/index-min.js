/*! caja-kissy 2013-09-13 */
KISSY.add("openjs/alimap/1.0/index",function(t){function n(n){function e(){this.obj=new AliMap(arguments[0])}function i(t){var n=t.toLowerCase().replace(/<iframe|<embed|<link|<script|<applet|<object|<style|<base|<frameset/g,"");return n.length!==t.length?(window.goldlog&&goldlog.emit("caja_safe",t),!1):!0}function r(){var t=new AliLatLng(arguments[0],arguments[1]),n=this;n.lo=t.lo,n.la=t.la,this.lat=function(){return n.la},this.equals=function(){return n.equals.apply(window,arguments)},this.lng=function(){return n.lo}}function a(){this.obj=new AliMarker(new AliLatLng(arguments[0].la,arguments[0].lo),cajaAFTB.untame(arguments[1]))}function s(t){this.obj=new AliInfoWindow(new AliLatLng(t.la,t.lo))}function u(){var t=this,n=new AliPoint(arguments[0],arguments[1]);t.x=n.x,t.y=n.y}function c(){var t=this;t.obj=new AliIcon(arguments[0],new AliPoint(arguments[1].x,arguments[1].y),new AliPoint(arguments[2]).x,arguments[2].y),t.image=t.obj.image,t.iconSize=t.obj.iconSize,t.iconAnchor=t.obj.iconAnchor}var l="centerAndZoom,addOverlay,closeInfoWindow,openInfoWindow,depose,checkResize,clearOverlays,disableDragging,draggingEnabled,enableDragging,endAutoSlide,endAutoSlide,getZoom,isDragging,removeOverlay,setZoom,startAutoSlide,zoomIn,zoomOut,setDblClickAction,panTo".split(",");return n.markCtor(e),e.prototype.centerAndZoom=function(t,n){this.obj.centerAndZoom(new AliLatLng(t.la,t.lo),n)},e.prototype.addOverlay=function(t){this.obj.addOverlay(t.obj)},e.prototype.openInfoWindow=function(){var t=KISSY.makeArray(arguments);if(KISSY.isString(t[2])){var n=i(t[2]);if(n!==t[2])return window.goldlog&&goldlog.emit("caja_safe",t[2]),void 0}this.obj.openInfoWindow.apply(this,arguments)},e.prototype.closeInfoWindow=function(){this.obj.closeInfoWindow()},e.prototype.checkResize=function(){this.obj.checkResize()},e.prototype.clearOverlays=function(){this.obj.clearOverlays()},e.prototype.depose=function(){this.obj.depose()},e.prototype.disableDragging=function(){this.obj.disableDragging()},e.prototype.draggingEnabled=function(){this.obj.draggingEnabled()},e.prototype.enableDragging=function(){this.obj.enableDragging()},e.prototype.endAutoSlide=function(){this.obj.endAutoSlide()},e.prototype.getZoom=function(){this.obj.getZoom()},e.prototype.isDragging=function(){this.obj.isDragging()},e.prototype.removeOverlay=function(t){this.obj.removeOverlay(t.obj)},e.prototype.setZoom=function(t,n){this.obj.setZoom(t,n)},e.prototype.startAutoSlide=function(t){this.obj.startAutoSlide(cajaAFTB.untame(t))},e.prototype.zoomIn=function(){this.obj.zoomIn()},e.prototype.zoomOut=function(t){this.obj.zoomOut(cajaAFTB.untame(t))},e.prototype.setDblClickAction=function(t){this.obj.setDblClickAction(t)},e.prototype.panTo=function(t){this.obj.panTo(new AliLatLng(t.la,t.lo))},t.each(l,function(t){n.grantMethod(e,t)}),l="lat,lng".split(","),n.markCtor(r),t.each(l,function(t){n.grantMethod(r,t)}),l="depose,setLatLng,setOpacity,setTitle,openInfoWindow,getIcon,setIcon,getLatLng".split(","),n.markCtor(a),a.prototype.depose=function(){this.obj.depose()},a.prototype.setLatLng=function(t){this.obj.setLatLng(new AliLatLng(t.la,t.lo))},a.prototype.setOpacity=function(t){this.obj.setOpacity(t)},a.prototype.setTitle=function(t){this.obj.setTitle(t)},a.prototype.openInfoWindow=function(){var t=KISSY.makeArray(arguments);if(KISSY.isString(t[1])){var n=i(t[1]);if(n!==t[1])return window.goldlog&&goldlog.emit("caja_safe",t[1]),void 0}this.obj.openInfoWindow.apply(this,arguments)},a.prototype.getIcon=function(){this.obj.getIcon()},a.prototype.setIcon=function(t){this.obj.setIcon(new AliIcon(t.image,t.iconSize,t.iconAnchor))},a.prototype.getLatLng=function(){return new r(this.obj.getLatLng().lat(),this.obj.getLatLng().lng())},t.each(l,function(t){n.grantMethod(a,t)}),l="close,depose,setContent,setLatLng,setRender,setTitle,setOpacity,moveIntoView".split(","),n.markCtor(s),s.prototype.close=function(){return this.obj.close()},s.prototype.depose=function(){return this.obj.depose()},s.prototype.moveIntoView=function(){this.obj.moveIntoView()},s.prototype.setContent=function(){return this.obj.setContent(arguments[0],arguments[1])},s.prototype.setLatLng=function(){return this.obj.setLatLng(arguments[0].la,arguments[0].lo)},s.prototype.setOpacity=function(){return this.obj.setOpacity(arguments[0])},s.prototype.setRender=function(){return this.obj.setRender(arguments[0],cajaAFTB.untame(arguments[1]))},s.prototype.setTitle=function(){return this.obj.setTitle(arguments[0])},t.each(l,function(t){n.grantMethod(s,t)}),l="getCopy".split(","),n.markCtor(c),c.prototype.getCopy=function(){return this.obj.getCopy()},t.each(l,function(t){n.grantMethod(c,t)}),function(t){return{AliMap:n.tame(n.markFunction(function(n){return new e(o.get(n,t.mod))})),AliPoint:n.tame(n.markFunction(function(t,n){return new u(t,n)})),AliIcon:n.tame(n.markFunction(function(t,n,o){return new c(t,n,o)})),AliMarker:n.tame(n.markFunction(function(t,n){return new a(t,n)})),AliInfoWindow:n.tame(n.markFunction(function(t){return new s(t)})),AliLatLng:n.tame(n.markFunction(function(t,n){return new r(t,n)})),AliEvent:n.tame({addListener:n.markFunction(function(){var t=arguments;AliEvent.addListener(t[0].obj,t[1],n.markFunction(function(n){var o;n.x&&(o={x:n.x,y:n.y}),n.la&&(o=new r(n.la,n.lo)),t[2].call(this,o)}))})})}}}var o=t.DOM;return t.Event,n});