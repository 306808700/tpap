/*! caja-kissy 2013-08-27 */
KISSY.add("openjs/1.3.0/core",function(t){function n(n){function e(t){if(0!==t.indexOf("http://"))return{url:document.location.hostname};var n=document.createElement("a");n.href=t;var e=KISSY.clone({url:n.hostname});return n=null,e}function r(t){this.inner=new NodeList(t)}n.markCtor(t.Anim),n.grantMethod(t.Anim,"run"),n.grantMethod(t.Anim,"stop"),n.grantMethod(t.Anim,"isRunning"),n.grantMethod(t.Anim,"isPaused"),n.grantMethod(t.Anim,"pause"),n.grantMethod(t.Anim,"resume"),n.markCtor(r);var a="c_getDOMNodes end equals c_add item slice scrollTop scrollLeft height width c_appendTo c_prependTo c_insertBefore c_insertAfter c_animate stop run pause resume isRunning isPaused show hide toggle fadeIn fadeOut fadeToggle slideDown slideUp slideToggle c_filter test clone empty replaceWith parent hasClass c_addClass removeClass replaceClass toggleClass val text toggle offset scrollIntoView c_next c_prev c_first c_last c_siblings c_children contains remove  contains innerWidth innerHeight outerWidth outerHeight c_on c_delegate c_detach fire all len c_attr c_removeAttr c_hasAttr c_data c_hasData c_removeData".split(" "),o=t.EventObject||t.Event.DOMEventObject;n.markCtor(o),n.grantMethod(o,"halt"),n.grantMethod(o,"preventDefault"),n.grantMethod(o,"stopImmediatePropagation"),n.grantMethod(o,"stopPropagation");var i="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which axis type".split(" ");t.each(i,function(t){n.grantRead(o.prototype,t)});var u=[/^(imagine\.taotaosou\.net)$|.\.(imagine\.taotaosou\.net)/,/.\.taobao\.(net)$/,/.\.taobaoapps\.(net)$/,/^(taegrid\.taobao\.com)$|.\.(taegrid\.taobao\.com)/,/^(uz\.taobao\.com)$|.\.(uz\.taobao\.com)/];return function(o){function i(n,e){var r=[];return e=e?i(e):[],r=t.isString(n)?t.query(n,e[0]||o.mod):t.query(n)}function c(t){return o.frame.imports.tameNode___(t,!0)}function s(){function t(n){return n.target&&(n.target=c(n.target)),n.relatedTarget&&(n.relatedTarget=c(n.relatedTarget)),n.currentTarget&&(n.currentTarget=c(n.currentTarget)),t.handle.call(this,n)}return t}var l=n.markFunction(function(n,e,r,a){var o=s();o.handle=r,r.__event_tag=r.__event_tag||[];var u=i(n);t.each(u,function(t){r.__event_tag.push({fn:o,el:t,scope:a||t})}),t.Event.on(u,e,o,a)}),d=n.markFunction(function(n,e,r,a,o){var u=s();u.handle=a,a.__event_tag=a.__event_tag||[];var c=i(n);t.each(c,function(t){a.__event_tag.push({fn:u,el:t,filter:r,scope:o||t})}),t.Event.delegate(c,e,r,u,o)}),m=n.markFunction(function(n,e,r,a){var o=i(n);if(r)for(var u=r.__event_tag||[],c=u.length-1;c>=0;c--){var s=u[c],l=a||s.el;s.scope===l&&t.inArray(s.el,o)&&(t.Event.remove(s.el,e,s.fn,a),u.splice(c,1))}else t.Event.remove(o,e)});return r.prototype.on=function(t,n,e){var r=this,a=r.inner.getDOMNodes();return l(a,t,n,e),this},r.prototype.delegate=function(t,n,e,r){var a=this,o=a.inner.inner.getDOMNodes();return d(o,t,e,r),this},r.prototype.detach=function(t,n,e){var r=this,a=r.inner.getDOMNodes();return m(a,t,n,e),this},r.prototype.getDOMNodes=function(){var n=[];return t.each(this.getDOMNodes(),function(t){n.push(c(t))}),n},t.each("add appendTo prependTo insertBefore insertAfter".split(" "),function(t){r.prototype[t]=function(n){return this.inner[t](i(n))}}),t.each("data hasData removeData".split(" "),function(t){r.prototype[t]=function(n,e,r){return this.inner[t](i(n),e,cajaAFTB.untame(r))}}),t.each("attr hasAttr removeAttr".split(" "),function(n){r.prototype[n]=function(e,r,a){return t.isString(r)&&t.startsWith(r,"data-")?this.inner[n](i(e),r,cajaAFTB.untame(a)):void 0}}),t.each("filter next prev first last siblings children".split(" "),function(n){r.prototype[n]=function(e){return t.isFunction(e)?(t.error("filter参数必须是字符串"),this):this.inner[n](e)}}),r.prototype.len=function(){return this.inner.length},r.prototype.animate=function(){var n=t.makeArray(arguments);return t.isObject(n[0])&&(n[0]=cajaAFTB.untame(n[0])),this.inner.animate(n[0],n[1],n[2],n[3])},r.prototype.addClass=function(t){return this.inner.addClass(t)},t.each(a,function(t){n.grantMethod(r,t)}),{unparam:n.markFunction(function(n){return t.unparam(n)}),param:n.markFunction(function(n,e,r,a){return t.param(cajaAFTB.untame(n),e,r,a)}),unEscapeHTML:n.markFunction(function(n){return t.unEscapeHTML(n)}),escapeHTML:n.markFunction(function(n){return t.escapeHTML(n)}),substitute:n.markFunction(function(n,e){return t.substitute(n,cajaAFTB.untame(e))}),DOM:{get:n.markFunction(function(t,n){var e=i(t,n);return c(e[0],!0)}),query:n.markFunction(function(n,e){var r=i(n,e);return t.each(r,function(t,n){r[n]=c(t,!0)}),r}),text:n.markFunction(function(n,e){return t.DOM.text(i(n),e)}),offset:n.markFunction(function(n,e){return t.DOM.offset(i(n),e)}),css:n.markFunction(function(n,e){return t.DOM.css(i(n),e)}),hasClass:n.markFunction(function(n,e){return t.DOM.hasClass(i(n),e)}),addClass:n.markFunction(function(n,e){return t.DOM.addClass(i(n),e)}),removeClass:n.markFunction(function(n,e){return t.DOM.removeClass(i(n),e)}),toggleClass:n.markFunction(function(n,e){return t.DOM.toggleClass(i(n),e)}),replaceClass:n.markFunction(function(n,e,r){return t.DOM.replaceClass(i(n),e,r)}),data:n.markFunction(function(n,e,r){return t.DOM.data(i(n),e,cajaAFTB.untame(r))}),hasData:n.markFunction(function(n,e){return t.DOM.hasData(i(n),e)}),removeData:n.markFunction(function(n,e){return t.DOM.removeData(i(n),e)}),attr:n.markFunction(function(n,e,r){return t.isString(e)&&t.startsWith(e,"data-")?t.DOM.attr(i(n),e,r):void 0}),hasAttr:n.markFunction(function(n,e){return t.DOM.hasAttr(i(n),e)}),removeAttr:n.markFunction(function(n,e){return t.isString(e)&&t.startsWith(e,"data-")?t.DOM.removeAttr(i(n),e):void 0})},io:n.markFunction(function(n){var r=cajaAFTB.untame(n);r.data=cajaAFTB.untame(r.data);var a=r.url,o=!1;return a=e(a).url,t.each(u,function(t){t.test(a)&&(o=!0)}),"json"!==r.dataType&&"jsonp"!==r.dataType&&(r.dataType="jsonp"),o?t.io(t.mix(r)):function(){}}),UA:t.clone(t.UA),log:n.markFunction(function(){t.log.apply(t,arguments)}),Event:{add:l,on:l,remove:m,detach:m,delegate:d,fire:n.markFunction(function(n,e){t.Event.fire(i(n),e)})},Anim:n.markFunction(function(){var n=t.makeArray(arguments);return n[0]=i(n[0])[0],t.isObject(n[1])&&(n[1]=cajaAFTB.untame(n[1])),t.Anim.apply(window,n)}),JSON:{parse:n.markFunction(function(n){return t.JSON.parse(n)}),stringify:n.markFunction(function(n){return t.JSON.stringify(cajaAFTB.untame(n))})},all:n.markFunction(function(){return t.all(i(arguments[0]))}),alert:n.markFunction(function(t){alert(t)})}}}return t.DOM,t.Event,n},{requires:["core"]});